{"version":3,"sources":["../../src/pages/token-detail/token-detail.module.ts","../../src/pages/token-detail/token-detail.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TokenDetailPage } from './token-detail';\n\n@NgModule({\n  declarations: [\n    TokenDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TokenDetailPage),\n  ],\n})\nexport class TokenDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/token-detail/token-detail.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController } from 'ionic-angular';\nimport { RestProvider } from '../../providers/rest/rest';\n\n@IonicPage()\n@Component({\n  selector: 'page-token-detail',\n  templateUrl: 'token-detail.html',\n})\nexport class TokenDetailPage {\n  token : any;\n  holders : any;\n  percentage = 0;\n  amount = 0;\n  loading : any;\n  constructor(public navCtrl: NavController, public navParams: NavParams, public restProvider: RestProvider, private loadingCtrl: LoadingController, private alertCtrl: AlertController) {\n    this.loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n  }\n\n  ionViewDidLoad() {\n    let name = this.navParams.get('TokenName');\n    this.token = this.restProvider.getCurrentToken();\n    console.log(this.token);\n    this.percentage = this.token.issuedPercentage;\n    console.log(this.percentage);\n    \n    this.getTokenHolders(name);\n  }\n  // get token\n  // getToken(name) {\n  //   this.restProvider.getToken(name).then(data => {\n  //     console.log(data);\n  //     this.token = data;\n  //   });\n  // }\n\n  buy(amount){\n    this.presentPrompt(amount);\n  }\n\n\n  presentPrompt(amount) {\n    let alertbox = this.alertCtrl.create({\n      title: 'Buy',\n      message: 'Are you sure you want to buy ' +amount +' of '+ this.token.name + '?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: data => {\n          }\n        },\n        {\n          text: 'Confirm transaction',\n          \n          handler: data => {\n            \n            //let totalFrozenTrx = this.accountBalance.frozen.total/this.ONE_TRX;\n            //console.log(\"Adding vote - \" + voteCount + \" to address \" + item.address);\n            \n            //if(voteCount > totalFrozenTrx){\n            //console.log(\"Insufficient fronzen account balance, \"+ voteCount + \" required, only \" + totalFrozenTrx + \"available.\");\n              \n              //alert(\"Insufficient fronzen account balance, \"+ voteCount + \" required, only \" + totalFrozenTrx + \" available.\");\n            //}else{\n              //let k = item.address;\n              //var vote = {};\n              //vote[k] = data[\"votes\"];\n              //console.log(\"Sending vote - \" + voteCount + \" to address \" + item.address);\n              this.loading.present();\n              this.restProvider.participateAsset(this.restProvider.account.address, this.token.ownerAddress, this.token.name, amount).then(data => {\n                //this.showConfirmAlert();\n                if(data.code == \"SUCCESS\"){\n                  this.loading.dismiss();\n                  alert(\"Transaction Confirmed, successfully received\" + amount + \" of \" + this.token.name);\n                }\n              });\n            //}\n          }\n        }\n      ]\n    });\n    alertbox.present();\n  }\n\n  getTokenHolders(name){\n    this.restProvider.getTokenHolders(name).then(data => {\n      console.log(data);\n      this.holders = data;\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/token-detail/token-detail.ts"],"sourceRoot":""}